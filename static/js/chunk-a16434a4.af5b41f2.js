(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a16434a4"],{"1a59":function(e,t,r){},"34a8":function(e,t,r){"use strict";r("1a59")},"880c":function(e,t,r){"use strict";r("f634")},d5c2:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("el-form",{ref:"registerForm",staticClass:"login-form",attrs:{model:e.registerForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[r("div",{staticClass:"title-container"},[r("h3",{staticClass:"title"},[e._v("Register form")])]),r("el-form-item",{attrs:{prop:"username"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"user"}})],1),r("span",{staticClass:"form-item-name"},[e._v("用户名称：")]),r("el-input",{ref:"username",attrs:{placeholder:"",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"password"}})],1),r("span",{staticClass:"form-item-name"},[e._v("设置密码：")]),r("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),r("el-form-item",{attrs:{prop:"passwordAgain"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"lock"}})],1),r("span",{staticClass:"form-item-name"},[e._v("确认密码：")]),r("el-input",{key:e.passwordTypeAgain,ref:"passwordAgain",attrs:{type:e.passwordTypeAgain,placeholder:"",name:"passwordAgain",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.registerForm.passwordAgain,callback:function(t){e.$set(e.registerForm,"passwordAgain",t)},expression:"registerForm.passwordAgain"}}),r("span",{staticClass:"show-pwd",on:{click:function(t){return e.showPwd(!1)}}},[r("svg-icon",{attrs:{"icon-class":"password"===e.passwordTypeAgain?"eye":"eye-open"}})],1)],1),e.config.leancloud?e._e():r("el-form-item",{attrs:{prop:"captcha"}},[r("span",{staticClass:"svg-container"},[r("svg-icon",{attrs:{"icon-class":"excel"}})],1),r("span",{staticClass:"form-item-name"},[e._v("验 证 码：")]),r("el-input",{ref:"captcha",attrs:{placeholder:"",name:"captcha",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.registerForm.captcha,callback:function(t){e.$set(e.registerForm,"captcha",t)},expression:"registerForm.captcha"}}),r("div",{staticClass:"captcha-img-box",on:{click:e.refreshCode}},[e.registerForm.captchaImg?r("img",{attrs:{src:e.registerForm.captchaImg,alt:""}}):e._e()])],1),r("el-button",{staticStyle:{width:"100%","margin-bottom":"15px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("注册")]),r("el-button",{staticStyle:{width:"100%",margin:"0"},attrs:{type:"success"},nativeOn:{click:function(t){return t.preventDefault(),e.returnPage(t)}}},[e._v("取消")])],1)],1)},s=[],n=r("c7eb"),o=r("3835"),i=r("1da1"),c=(r("ac1f"),r("5319"),r("99af"),r("61f7")),p=r("b775");function l(e){return Object(p["a"])({url:"/captcha/get",method:"get"})}var d=r("83d6"),u=r.n(d);function g(e,t){return e.then((function(e){return[null,e]})).catch((function(e){return t&&Object.assign(e,t),[e,void 0]}))}var m=g,f=r("429a"),w={name:"register",data:function(){var e=function(e,t,r){Object(c["b"])(t)?r():r(new Error("请输入正确的用户名"))},t=function(e,t,r){t.length<4?r(new Error("密码长度不能小于6位")):r()},r=function(e,t,r){0!=t.length||u.a.leancloud?r():r(new Error("请输入验证码"))};return{registerForm:{username:"",password:"",passwordAgain:"",captchaId:"",captcha:"",captchaImg:""},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}],passwordAgain:[{required:!0,trigger:"blur",validator:t}],captcha:[{required:!0,trigger:"blur",validator:r}]},loading:!1,passwordType:"password",passwordTypeAgain:"password",redirect:void 0,config:u.a}},created:function(){this.refreshCode()},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPwd:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=t?this.passwordType:this.passwordTypeAgain;"password"==r?t?this.passwordType="":this.passwordTypeAgain="":t?this.passwordType="password":this.passwordTypeAgain="password",this.$nextTick((function(){var r=t?"password":"passwordAgain";e.$refs["".concat(r)].focus()}))},handleLogin:function(){if(this.registerForm.password==this.registerForm.passwordAgain)return!1;this.$message.error("两个密码不相同！请确认一下")},avRegister:function(e){var t=new f["a"].User;return t.setUsername(e.username),t.setPassword(e.password),t.signUp()},returnPage:function(){this.$router.go(-1)},refreshCode:function(){var e=this;return Object(i["a"])(Object(n["a"])().mark((function t(){var r,a,s,i;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,m(l());case 2:r=t.sent,a=Object(o["a"])(r,2),s=a[0],i=a[1],s&&e.$message.error(s),e.registerForm.captchaId=i.data,e.registerForm.captchaImg="".concat(d["mainRoot"],"/captcha/vc.jpg?captchaId=").concat(i.data);case 9:case"end":return t.stop()}}),t)})))()}}},h=w,v=(r("34a8"),r("880c"),r("2877")),y=Object(v["a"])(h,a,s,!1,null,"f8826cec",null);t["default"]=y.exports},f634:function(e,t,r){}}]);